{"version":3,"sources":["../node_modules/browserify/node_modules/browser-pack/_prelude.js","server.coffee","../node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js","renderer/actions/counter-action.coffee","renderer/actions/route-action.coffee","renderer/actions/user-action.coffee","renderer/components/about-component.coffee","renderer/components/app-component.coffee","renderer/components/counter-component.coffee","renderer/components/counter-list-item-component.coffee","renderer/components/error-component.coffee","renderer/components/index-component.coffee","renderer/components/link-component.coffee","renderer/components/login-component.coffee","renderer/components/root-component.coffee","renderer/components/route-component.coffee","renderer/context.coffee","renderer/keys.coffee","renderer/lib/router.coffee","renderer/routes.coffee","renderer/stores/counter-store.coffee","renderer/stores/route-store.coffee","renderer/stores/user-store.coffee"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","require('source-map-support').install()\nexpress = require 'express'\nbodyParser = require 'body-parser'\ncookieParser = require 'cookie-parser'\nexpressSession = require 'express-session'\nfs = require 'fs'\nHandlebars = require 'handlebars'\nReact = require 'react'\nContext = require './renderer/context'\nRoot = require './renderer/components/root-component'\nroutes = require './renderer/routes'\nCrypto = require 'crypto'\npassport = require 'passport'\nMongoose = require 'mongoose'\nLocalStrategy = require('passport-local').Strategy\n\nserver = express()\n\nserver.use '/static', express.static('public')\nserver.use bodyParser()\nserver.use cookieParser()\nserver.use expressSession({ secret: \"secret\" })\nserver.use passport.initialize()\nserver.use passport.session()\n\ntemplate = Handlebars.compile fs.readFileSync(\"#{fs.realpathSync('./')}/view/index.hbs\").toString()\n\nsecretKey = 'secret'\ngetHash = (target) ->\n  sha = Crypto.createHmac 'sha256', secretKey\n  sha.update target\n  sha.digest 'hex'\n\ndb = Mongoose.createConnection 'mongodb://localhost/flux-server-side-rendering-sample', (error, res) ->\n\nUserSchema = new Mongoose.Schema\n  email:\n    type: String\n    required: true\n  password:\n    type: String\n    required: true\nUserSchema.methods.authenticate = (password) ->\n  @password == getHash(password)\n\nUser = db.model 'User', UserSchema\n\nUser.count (err, c) ->\n  if c == 0\n    testUser = new User()\n    testUser.email = 'test@sample.com'\n    testUser.password = getHash 'test'\n    testUser.save()\n\nUser.count (err, c) -> console.log c\n\npassport.serializeUser (user, done) ->\n  done null,\n    email: user.email\n    _id: user._id\npassport.deserializeUser (serializedUser, done) ->\n  User.findById serializedUser._id, (err, user) ->\n    done err, user\n\npassport.use new LocalStrategy\n    usernameField: 'email'\n    passwordField: 'password'\n  , (email, password, done) ->\n    process.nextTick ->\n      User.findOne\n        email: email\n      , (err, user) ->\n        if err\n          done err\n        unless user?\n          done null, false, { message: 'user not found' }\n        unless user.authenticate password\n          done null, false, { message: 'invalid password' }\n        done null, user\n\nserver.post '/api/login', (req, res) ->\n  console.log req.body\n  passport.authenticate('local', (err, user, info) ->\n    res_user =\n      error: err\n      user:\n        if user\n          email: user.email\n          _id: user._id\n        else\n          null\n      logined: !!user\n    if !err? && user\n      req.logIn user, ->\n    res.json res_user\n  )(req, res)\n\ncounter =\n  counters: [\n      name: 'counter1'\n      count: 0\n      index: 0\n    ,\n      name: 'counter2'\n      count: 0\n      index: 1\n    ,\n      name: 'counter3'\n      count: 0\n      index: 2\n  ]\n  active: 0\n\nserver.post '/api/counter/:index/count_up', (req, res) ->\n  index = parseInt req.params.index, 10\n  counter.counters[index]?.count += 1\n  res.contentType 'application/json'\n  res.json\n    count: counter.counters[index]?.count\n\nserver.get '/favicon.ico', (req, res) ->\n\nserver.get '*', (req, res) ->\n  console.log req.originalUrl, req.isAuthenticated()\n  res_user =\n    error: null\n    user:\n      if req.user\n        email: req.user.email\n        _id: req.user._id\n      else\n        null\n    logined: !!req.user\n  initialStates =\n    RouteStore:\n      fragment: req.originalUrl\n      routes: routes\n    CounterStore: counter\n    UserStore: res_user\n  context = new Context(initialStates)\n  res.send template\n    initialStates: JSON.stringify initialStates\n    markup: React.renderToString React.createElement(Root, {context})\n\nserver.listen (process.env.PORT || 5000)\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            currentQueue[queueIndex].run();\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","Flux = require 'material-flux'\nkeys = require '../keys'\nrequest = require 'superagent'\nPromise = require 'bluebird'\n\nclass CounterAction extends Flux.Action\n  active: (index) ->\n    @dispatch(keys.active, index)\n\n  countUp: (index, count) ->\n    @dispatch(keys.countUp, index, count)\n    new Promise (resolve, reject) ->\n      request\n        .post \"/api/counter/#{index}/count_up\"\n        .send\n          count: count\n        .end (err, res) ->\n          if res.ok\n            resolve res.body\n          else\n            reject err\n    .then (res) =>\n      @dispatch(keys.countUp, index, res.count)\n    .catch (err) ->\n      console.error err\n\nmodule.exports = CounterAction\n","Flux = require 'material-flux'\nkeys = require '../keys'\nHistory = null\nHistory = require 'html5-history' if window?\n\nclass RouteAction extends Flux.Action\n  constructor: ->\n    super\n    if History?.Adapter?\n      History.Adapter.bind window, 'statechange' , =>\n        state = History.getState()\n        console.log 'statechange', state.hash\n        @dispatch(keys.route, state.hash)\n    else\n      console.warn 'html5-history is not available.' if window?\n\n  navigate: (path, options) ->\n    path = \"/#{@clearSlashes path}\"\n    if History?.Adapter?\n      console.log History.getState().hash\n      console.log 'navigate', path, options\n      if options?.replace == true\n        History.replaceState null, null, path, undefined, options?.silent\n      else\n        History.pushState null, null, path, undefined, options?.silent\n    else if location?\n      location.href = path\n\n  clearSlashes: (path) ->\n    path.toString().replace(/\\/$/, '').replace(/^\\//, '')\n\nmodule.exports = RouteAction\n","Flux = require 'material-flux'\nkeys = require '../keys'\nrequest = require 'superagent'\nPromise = require 'bluebird'\n\nclass UserAction extends Flux.Action\n  login: (email, password) ->\n    new Promise (resolve, reject) ->\n      request\n        .post '/api/login'\n        .send\n          email: email\n          password: password\n        .end (err, res) ->\n          if res.ok\n            resolve res.body\n          else\n            reject err\n    .then (res) =>\n      console.log res\n      @dispatch(keys.user, res)\n    .catch (err) ->\n      console.error err\n\n  logout: ->\n    console.log 'logout'\n\nmodule.exports = UserAction\n","React = require 'react'\nLink = require './link-component'\n\nclass AboutComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  render: ->\n    React.createElement(\"div\", null,\n      React.createElement(\"h1\", null, \"About\"),\n      React.createElement(\"p\", null, \"\"\"\n        Counter with Flux\n\"\"\"),\n      React.createElement(\"h3\", null, \"Feature\"),\n      React.createElement(\"p\", null,\n        React.createElement(\"ul\", null,\n          React.createElement(\"li\", null, \"Flux\"),\n          React.createElement(\"li\", null, \"React.js\"),\n          React.createElement(\"li\", null, \"ServerSide Rendering\")\n        )\n      ),\n      React.createElement(\"h3\", null, \"Source Code\"),\n      React.createElement(\"p\", null,\n        React.createElement(\"a\", {\"href\": \"https://github.com/pnlybubbles/flux-server-side-rendering-sample\"}, \"pnlybubbles\\x2Fflux-server-side-rendering-sample\")\n      )\n    )\n\nAboutComponent.contextTypes =\n  ctx: React.PropTypes.any\n\nmodule.exports = AboutComponent\n","React = require 'react'\nRoute = require './route-component'\nLink = require './link-component'\nIndexComponent = require './index-component'\nAboutComponent = require './about-component'\nLoginComponent = require './login-component'\nErrorComponent = require './error-component'\n\nclass AppComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  _onChange: ->\n    @setState @store.get()\n\n  componentWillMount: ->\n    @store = @context.ctx.userStore\n    @setState @store.get()\n\n  componentDidMount: ->\n    @store.onChange @_onChange.bind(@)\n\n  componentWillUnmount: ->\n    @store.removeAllChangeListeners()\n\n  render: ->\n    React.createElement(\"div\", null,\n      React.createElement(Route, {\"addClassName\": 'active', \"logined\": (@state.logined)},\n        React.createElement(\"li\", {\"route\": 'Index'}, React.createElement(Link, {\"href\": '/'}, \"Counter\")),\n        React.createElement(\"li\", {\"route\": 'About'}, React.createElement(Link, {\"href\": '/about'}, \"About\")),\n        React.createElement(\"li\", {\"route\": 'Login'}, React.createElement(Link, {\"href\": '/login'}, \"Login\"))\n      ),\n      React.createElement(Route, {\"logined\": (@state.logined)},\n        React.createElement(IndexComponent, {\"route\": 'Index'}),\n        React.createElement(AboutComponent, {\"route\": 'About'}),\n        React.createElement(ErrorComponent, {\"route\": 'Error'}),\n        React.createElement(LoginComponent, {\"route\": 'Login'})\n      )\n    )\n\nAppComponent.contextTypes =\n  ctx: React.PropTypes.any\n\nmodule.exports = AppComponent\n","React = require 'react'\n\nclass CounterComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  countUp: ->\n    @context.ctx.counterAction.countUp(@props.counter.index, @props.counter.count + 1)\n\n  render: ->\n    React.createElement(\"div\", null,\n      React.createElement(\"h3\", null, (@props.counter.name)),\n      React.createElement(\"h1\", null, (@props.counter.count)),\n      React.createElement(\"button\", {\"onClick\": (@countUp.bind(@))}, \"CountUp\")\n    )\n\nCounterComponent.contextTypes =\n  ctx: React.PropTypes.any\n\nmodule.exports = CounterComponent\n","React = require 'react'\n\nclass CounterListItemComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  active: ->\n    @context.ctx.counterAction.active(@props.counter.index)\n\n  render: ->\n    React.createElement(\"div\", {\"className\": (if @props.active then 'active' else '')},\n      React.createElement(\"span\", null, (@props.counter.name)),\n      React.createElement(\"button\", {\"onClick\": (@active.bind(@))}, \"Select\")\n    )\n\nCounterListItemComponent.contextTypes =\n  ctx: React.PropTypes.any\n\nmodule.exports = CounterListItemComponent\n","React = require 'react'\n\nclass ErrorComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  render: ->\n    React.createElement(\"div\", null,\n      React.createElement(\"h1\", null, \"404 NotFound\")\n    )\n\nErrorComponent.contextTypes =\n  ctx: React.PropTypes.any\n\nmodule.exports = ErrorComponent\n","React = require 'react'\nCounterListItem = require './counter-list-item-component'\nCounter = require './counter-component'\n\nclass IndexComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  _onChange: ->\n    @setState @store.get()\n\n  componentWillMount: ->\n    @store = @context.ctx.counterStore\n    @setState @store.get()\n\n  componentDidMount: ->\n    @store.onChange @_onChange.bind(@)\n\n  componentWillUnmount: ->\n    @store.removeAllChangeListeners()\n\n  render: ->\n    React.createElement(\"div\", null,\n      React.createElement(\"h1\", null, \"Counters\"),\n      React.createElement(\"h3\", null, \"Counter Select\"),\n      React.createElement(\"div\", null,\n        (\n          @state.counters.map (counter) =>\n            React.createElement(\"li\", {\"key\": (counter.index)},\n              React.createElement(CounterListItem, {\"active\": (counter.index == @state.active), \"counter\": (counter)})\n            )\n        )\n      ),\n      React.createElement(\"div\", null,\n        React.createElement(Counter, {\"counter\": (@state.counters[@state.active])})\n      )\n    )\n\nIndexComponent.contextTypes =\n  ctx: React.PropTypes.any\n\nmodule.exports = IndexComponent\n","React = require 'react'\n\nclass LinkComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  navigate: (e) ->\n    e.preventDefault()\n    @context.ctx.routeAction.navigate(@props.href)\n\n  render: ->\n    React.createElement(\"a\", {\"href\": (@props.href), \"onClick\": ( @navigate.bind(@) )},\n      (@props.children)\n    )\n\nLinkComponent.contextTypes =\n  ctx: React.PropTypes.any\n\nmodule.exports = LinkComponent\n","React = require 'react'\n\nclass LoginComponent extends React.Component\n  constructor: (props) ->\n    super props\n    @state =\n      email: ''\n      password: ''\n\n  changeEmailInput: (e) ->\n    @setState\n      email: e.target.value\n\n  changePasswordInput: (e) ->\n    @setState\n      password: e.target.value\n\n  login: ->\n    @context.ctx.userAction.login(@state.email, @state.password)\n\n  render: ->\n    React.createElement(\"div\", null,\n      React.createElement(\"h1\", null, \"Login\"),\n      React.createElement(\"span\", null, \"email\"),\n      React.createElement(\"input\", {\"name\": 'email', \"type\": 'text', \"value\": (@state.email), \"onChange\": (@changeEmailInput.bind(@))}),\n      React.createElement(\"span\", null, \"password\"),\n      React.createElement(\"input\", {\"name\": 'password', \"type\": 'password', \"value\": (@state.password), \"onChange\": (@changePasswordInput.bind(@))}),\n      React.createElement(\"button\", {\"onClick\": (@login.bind(@))}, \"Login\")\n    )\n\nLoginComponent.contextTypes =\n  ctx: React.PropTypes.any\n\nmodule.exports = LoginComponent\n","React = require 'react'\nApp = require './app-component'\n\nclass RootComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  getChildContext: ->\n    ctx: @props.context\n\n  render: ->\n    React.createElement(App, null)\n\nRootComponent.childContextTypes =\n  ctx: React.PropTypes.any\n\nmodule.exports = RootComponent\n","React = require 'react'\nRouter = require '../lib/router'\n\nclass RouteComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  _onChange: ->\n    @setState @store.get()\n    console.log 'onChange', @store.get()\n\n  componentWillMount: ->\n    @store = @context.ctx.routeStore\n    state = @store.get()\n    @setState state\n\n    @router = new Router state.routes.root, state.routes.routes\n    @router.setAuth state.routes.auth\n\n  componentDidMount: ->\n    @store.onChange @_onChange.bind(@)\n\n  componentWillUnmount: ->\n    @store.removeAllChangeListeners()\n\n  # shouldComponentUpdate: (nextProps, nextState) ->\n\n  render: ->\n    React.createElement(\"div\", null,\n      (\n        @router.route @state.fragment, @props.logined, (route, argu, default_route, fragment, default_fragment) =>\n          # console.log @state\n          # console.log @props\n          console.log route, argu, default_route, fragment, default_fragment\n          if default_route? && default_fragment?\n            @context.ctx.routeAction.navigate(fragment, {replace: true, silent: true})\n          React.Children.map @props.children, (child) =>\n            if child.props.route == route\n              if @props.addClassName?\n                React.cloneElement child,\n                  argu: argu\n                  className: @props.addClassName\n              else\n                React.cloneElement child,\n                  argu: argu\n            else\n              if @props.addClassName?\n                React.cloneElement child,\n                  argu: argu\n              else\n                null\n        , (route, argu, default_route) =>\n          React.createElement(\"h1\", null, \"404 NotFound\")\n      )\n    )\n\nRouteComponent.contextTypes =\n  ctx: React.PropTypes.any\n\nmodule.exports = RouteComponent\n","Flux = require 'material-flux'\nRouteAction = require './actions/route-action'\nRouteStore = require './stores/route-store'\nCounterAction = require './actions/counter-action'\nCounterStore = require './stores/counter-store'\nUserAction = require './actions/user-action'\nUserStore = require './stores/user-store'\n\nclass Context extends Flux.Context\n  constructor: (initialStates) ->\n    super\n    @initialStates = initialStates\n    @routeAction = new RouteAction(@)\n    @routeStore = new RouteStore(@)\n    @counterAction = new CounterAction(@)\n    @counterStore = new CounterStore(@)\n    @userAction = new UserAction(@)\n    @userStore = new UserStore(@)\n\nmodule.exports = Context\n","module.exports =\n  route: 'route'\n  active: 'active'\n  countUp: 'countUp'\n","objectAssign = require 'object-assign'\n\nclass Router\n  constructor: (root, routes) ->\n    @setRoot(root)\n    @routes = routes if routes?\n    @auth = {}\n\n  setRoot: (root) ->\n    @root = if root? && root != '/' then '/' + @clearSlashes(root) + '/' else '/'\n\n  setRoute: (path, route) ->\n    unless route?\n      routes = path\n    else\n      routes = {}\n      routes[path] = route\n    @routes = objectAssign(@routes, routes)\n\n  setAuth: (route, required, renavigate) ->\n    unless required? && renavigate?\n      auth = route\n    else\n      auth = {}\n      auth[route] =\n        required: required\n        renavigate: renavigate\n    @auth = objectAssign @auth, auth\n\n  route: (fragment, logined, resolve, reject)->\n    if typeof logined == 'function' && !reject?\n      reject = resolve\n      resolve = logined\n      logined = undefined\n\n    fragment = fragment.replace /\\?(.*)$/, ''\n    fragment = @clearSlashes(fragment.replace(new RegExp(\"^#{@root}\"), ''))\n    res = []\n    for re, r of @routes\n      match = fragment.match new RegExp(\"^#{re}$\")\n      if match?\n        match.shift()\n        if logined?\n          auth = @auth[r]\n          if (auth?.required == true && !logined) || (auth?.required == false && logined)\n            if auth.renavigate?\n              for re_, r_ of @routes\n                match_ = auth.renavigate.match new RegExp(\"^#{re_}$\")\n                if match_?\n                  return resolve?(r_, match_, r, auth.renavigate, fragment)\n              console.warn('\\'renavigate\\' fragment is not found in routes.')\n            else\n              console.warn('\\'renavigate\\' is not specified in authenticated route.')\n        return resolve?(r, match, null, fragment, null)\n    return reject?(null, [], null, fragment, null)\n\n  clearSlashes: (path) ->\n    path.toString().replace(/\\/$/, '').replace(/^\\//, '')\n\nmodule.exports = Router\n","module.exports =\n  root: '/'\n  routes:\n    '' : 'Index'\n    'about' : 'About'\n    'login' : 'Login'\n    '.*' : 'Error'\n  auth:\n    Index:\n      required: true\n      renavigate: 'login'\n    Login:\n      required: false\n      renavigate: ''\n","Flux = require 'material-flux'\nkeys = require '../keys.coffee'\nobjectAssign = require 'object-assign'\n\nclass CounterStore extends Flux.Store\n  constructor: (context) ->\n    super context\n    @state =\n      counters: [\n          name: 'counter1'\n          count: 0\n          index: 0\n        ,\n          name: 'counter2'\n          count: 0\n          index: 1\n        ,\n          name: 'counter3'\n          count: 0\n          index: 2\n      ]\n      active: 0\n    @state = objectAssign(@state, context.initialStates.CounterStore)\n    @register keys.active, @active\n    @register keys.countUp, @countUp\n\n  active: (index) ->\n    if index in (c.index for c in @state.counters)\n      @setState\n        active: index\n\n  countUp: (index, count) ->\n    if index in (c.index for c in @state.counters)\n      counters = @state.counters\n      counters[index].count = count\n      @setState\n        counters: counters\n\n  get: ->\n    @state\n\nmodule.exports = CounterStore\n","Flux = require 'material-flux'\nkeys = require '../keys'\nobjectAssign = require 'object-assign'\n\nclass RouteStore extends Flux.Store\n  constructor: (context) ->\n    super context\n    @state =\n      fragment: '/'\n      routes: null\n    @state = objectAssign(@state, context.initialStates.RouteStore)\n    @register keys.route, @route\n    if !@state.routes?\n      throw new Error('state.routes must be specifyed by initialState.')\n\n  route: (fragment) ->\n    console.log 'route:', fragment\n    @setState\n      fragment: fragment\n\n  get: ->\n    @state\n\nmodule.exports = RouteStore\n","Flux = require 'material-flux'\nkeys = require '../keys'\nobjectAssign = require 'object-assign'\n\nclass UserStore extends Flux.Store\n  constructor: (context) ->\n    super context\n    @state =\n      error: null\n      user: null\n      logined: false\n    @state = objectAssign(@state, context.initialStates.UserStore)\n    @register keys.user, @user\n\n  user: (res) ->\n    @setState res\n\n  get: ->\n    @state\n\nmodule.exports = UserStore\n"]}