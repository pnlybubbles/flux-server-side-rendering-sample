{"version":3,"sources":["../node_modules/browserify/node_modules/browser-pack/_prelude.js","server.coffee","../node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js","renderer/actions/route-action.coffee","renderer/components/about-component.coffee","renderer/components/app-component.coffee","renderer/components/error-component.coffee","renderer/components/index-component.coffee","renderer/components/link-component.coffee","renderer/components/route-component.coffee","renderer/context.coffee","renderer/keys.coffee","renderer/lib/router-util.coffee","renderer/routes.coffee","renderer/stores/route-store.coffee"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","require('source-map-support').install()\nexpress = require 'express'\nfs = require 'fs'\nHandlebars = require 'handlebars'\nReact = require 'react'\nAppContext = require './renderer/context'\nApp = require './renderer/components/app-component'\nRouterUtil = require './renderer/lib/router-util'\nroutes = require './renderer/routes'\nserver = express()\n\ntemplate = Handlebars.compile fs.readFileSync(\"#{fs.realpathSync('./')}/view/index.hbs\").toString()\n\nserver.use '/static', express.static('public')\n\nrouterUtil = new RouterUtil routes.root, routes.routes\nconsole.log routerUtil\n\nserver.get '*', (req, res) ->\n  console.log req.originalUrl\n  [route, argu] = routerUtil.route req.originalUrl\n  initialStates =\n    RouteStore:\n      route: route\n      argu: argu\n  context = new AppContext(initialStates)\n  res.send template\n    initialStates: JSON.stringify initialStates\n    markup: React.renderToString React.createElement(App, {context})\n\nserver.listen (process.env.PORT || 5000)\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            currentQueue[queueIndex].run();\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","Flux = require 'material-flux'\nkeys = require '../keys'\nHistory = require 'html5-history' if window?\n\nclass RouteAction extends Flux.Action\n  constructor: ->\n    super\n    if History?.Adapter?\n      History.Adapter.bind window, 'statechange' , =>\n        state = History.getState()\n        @dispatch(keys.route, state.hash)\n    else if history?\n      console.warn 'html5-history is not available. Now using default History API.' if window?\n      # window.addEventListener 'popstate', (e) =>\n      #   state = e.state\n      #   @dispatch(keys.route, state.hash)\n    else\n      console.warn 'Both html5-history and default History API are not available.' if window?\n\n\n  navigate: (path) ->\n    if History?.Adapter?\n      History.pushState null, null, path\n    else if history?\n      history.pushState null, null, path\n      @dispatch(keys.route, path)\n    else if location?\n      location.href = path\n\nmodule.exports = RouteAction\n","React = require 'react'\nLink = require './link-component'\n\nclass AboutComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  render: ->\n    React.createElement(\"div\", null,\n      React.createElement(\"p\", null, \"\"\"\n        Hello About\n\"\"\"),\n      React.createElement(\"p\", null, \"\"\"\n        I am pnlybubbles\n\"\"\"),\n      React.createElement(Link, {\"href\": '/', \"context\": (@props.context)}, \"Index\")\n    )\n\nmodule.exports = AboutComponent\n","React = require 'react'\nRoute = require './route-component'\n\nclass AppComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  render: ->\n    React.createElement(\"div\", null,\n      React.createElement(Route, {\"context\": (@props.context)})\n    )\n\nmodule.exports = AppComponent\n","React = require 'react'\n\nclass ErrorComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  render: ->\n    React.createElement(\"div\", null,\n      React.createElement(\"h1\", null, \"404 NotFound\")\n    )\n\nmodule.exports = ErrorComponent\n","React = require 'react'\nLink = require './link-component'\n\nclass IndexComponent extends React.Component\n  constructor: (props) ->\n    super props\n\n  render: ->\n    React.createElement(\"div\", null,\n      React.createElement(\"p\", null, \"\"\"\n        Hello Index\n\"\"\"),\n      React.createElement(Link, {\"href\": '/about', \"context\": (@props.context)}, \"About\")\n    )\n\nmodule.exports = IndexComponent\n","React = require 'react'\n\nclass Link extends React.Component\n  constructor: (props) ->\n    super props\n\n  navigate: (e) ->\n    e.preventDefault()\n    @props.context.routeAction.navigate(@props.href)\n\n  render: ->\n    React.createElement(\"a\", {\"href\": (@props.href), \"onClick\": ( @navigate.bind(@) )},\n      (@props.children)\n    )\n\nmodule.exports = Link\n","React = require 'react'\nIndexComponent = require './index-component'\nAboutComponent = require './about-component'\nErrorComponent = require './error-component'\n\nclass RouteComponent extends React.Component\n  constructor: (props) ->\n    super props\n    @store = @props.context.routeStore\n    @state = @store.get()\n    @components =\n      Index: IndexComponent\n      About: AboutComponent\n      Error: ErrorComponent\n\n  _onChange: ->\n    @setState @store.get()\n\n  componentDidMount: ->\n    @store.onChange @_onChange.bind(@)\n\n  componentWillUnmount: ->\n    @store.removeAllChangeListeners()\n\n  render: ->\n    React.createElement(\"div\", null,\n      (\n        if @components[@state.route]\n          React.createElement @components[@state.route], { argu: @state.argu, context: @props.context }\n      )\n    )\n\nmodule.exports = RouteComponent\n","Flux = require 'material-flux'\nRouteAction = require './actions/route-action'\nRouteStore = require './stores/route-store'\n\nclass Context extends Flux.Context\n  constructor: (initialStates) ->\n    super\n    @initialStates = initialStates\n    @routeAction = new RouteAction(@)\n    @routeStore = new RouteStore(@)\n\nmodule.exports = Context\n","module.exports =\n  route: \"route\"\n","class RouterUtil\n  constructor: (root, routes) ->\n    @root = if root? && root != '/' then '/' + @clearSlashes(root) + '/' else '/'\n    @routes = routes\n\n  route: (fragment)->\n    fragment = fragment.replace /\\?(.*)$/, ''\n    fragment = @clearSlashes(fragment.replace(new RegExp(\"^#{@root}\"), ''))\n    for re, r of @routes\n      match = fragment.match new RegExp(\"^#{re}$\")\n      if match?\n        match.shift()\n        return [r, match]\n    return [null, []]\n\n  clearSlashes: (path) ->\n    path.toString().replace(/\\/$/, '').replace(/^\\//, '')\n\nmodule.exports = RouterUtil\n","module.exports =\n  root: '/'\n  routes:\n    '' : 'Index'\n    'about' : 'About'\n    '.*' : 'Error'\n","Flux = require 'material-flux'\nkeys = require '../keys'\nroutes = require '../routes'\nRouterUtil = require '../lib/router-util'\n\nclass RouteStore extends Flux.Store\n  constructor: (context) ->\n    super context\n    @state = context.initialStates.RouteStore\n    @register keys.route, @route\n    @routerUtil = new RouterUtil routes.root, routes.routes\n\n  route: (fragment) ->\n    console.log \"route:\", fragment\n    [route, argu] = @routerUtil.route fragment\n    if route?\n      @setState\n        route: route\n        argu: argu\n\n  get: ->\n    @state\n\nmodule.exports = RouteStore\n"]}